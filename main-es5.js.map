{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/category-page/category-page.component.ts","webpack:///src/app/category-page/category-page.component.html","webpack:///src/app/common/carousel/carousel-item.directive.ts","webpack:///src/app/common/carousel/carousel.component.ts","webpack:///src/app/common/carousel/carousel.component.html","webpack:///src/app/common/footer/footer.component.ts","webpack:///src/app/common/footer/footer.component.html","webpack:///src/app/common/info-banner/info-banner.component.ts","webpack:///src/app/common/info-banner/info-banner.component.html","webpack:///src/app/common/info-card/info-card.component.ts","webpack:///src/app/common/info-card/info-card.component.html","webpack:///src/app/common/login/login.component.ts","webpack:///src/app/common/login/login.component.html","webpack:///src/app/info-page/info-page.component.ts","webpack:///src/app/info-page/info-page.component.html","webpack:///src/app/main-page/main-page.component.ts","webpack:///src/app/main-page/main-page.component.html","webpack:///src/app/my-watchlist/my-watchlist.component.ts","webpack:///src/app/my-watchlist/my-watchlist.component.html","webpack:///src/app/service/auth-guard.service.ts","webpack:///src/app/service/auth.service.ts","webpack:///src/app/service/category-resolver.service.ts","webpack:///src/app/service/category.service.ts","webpack:///src/app/service/entity-resolver.service.ts","webpack:///src/app/service/watchlist.service.ts","webpack:///src/app/util/constants.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","categoryData","entity","data","type","canActivate","AppRoutingModule","forRoot","scrollPositionRestoration","imports","AppComponent","router","snackBar","changeDetectorRef","media","scrollDispatcher","zone","authService","shortTitle","title","menuTree","toolbarMenu","isLoading","isScrolled","mobileQuery","matchMedia","_mobileQueryListener","detectChanges","addListener","scrolled","subscribe","isInMainPage","run","document","scrollingElement","scrollTop","routePath","sessionStorage","getItem","removeItem","navigate","cookie","search","snackBarRef","open","horizontalPosition","afterDismissed","events","pipe","url","removeListener","sidenav","close","window","getUserInfo","donate","selector","templateUrl","styleUrls","MyHammerConfig","overrides","pinch","enable","rotate","swipe","pan","direction","AppModule","provide","useClass","initializeApp","firebase","register","enabled","production","declarations","providers","bootstrap","CategoryPageComponent","route","categoryService","elementRef","titleService","CATEGORY_MAP","items$","isNeedLoad","paramMap","params","getCategory","get","entityType$","nativeElement","style","minHeight","category","setTitle","name","CarouselItemDirective","tpl","CarouselItemElement","CarouselComponent","builder","timing","showControls","currentSlide","carouselWrapperStyle","offset","build","transform","itemWidth","myAnimation","buildAnimation","player","create","carousel","play","infiniteNext","items","length","playPageAnimation","infinitePrev","page","isFinal","deltaX","velocityX","distance","next","prev","event","ngAfterViewInit","itemsElements","first","getBoundingClientRect","width","read","FooterComponent","REPO_URL","SPONSOR_URL","MENU_TREE","preventDefault","InfoBannerComponent","isDetailMode","entityType","duration","InfoCardComponent","stopPropagation","performActionAfterLogin","stopRipple","addToWatchList","watch","LoginComponent","LOGIN_METHOD","isLoggingIn","signOut","provider","signIn","userInfo","history","back","err","InfoPageComponent","error","message","MainPageComponent","PROVIDER_LIST","MyWatchlistComponent","watchlistService","watchlist$","getWatchlist","AuthGuardService","isLoggedIn","providedIn","AuthService","angularFireAuth","user","authState","providerName","addScope","setCustomParameters","allow_signup","signIn$","location","hostname","signInAnonymously","signInWithPopup","result","actionBeforeLogin","method","apply","thisarg","args","undefined","navigateByUrl","CategoryResolverService","state","getCurrentNavigation","previousNavigation","CategoryService","http","forEach","i","genre_ids","map","genre","EntityResolverService","afs","entityInfo","extras","collection","routeConfig","doc","WatchlistService","ref","where","uid","docs","SHORT_TITLE","TITLE","movies","taiwan","japan","korea","usa","china","anime","CATEGORY_LIST","Object","k","link","showInToolbar","GENRE_MAP","environment","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","bootstrapModule","console"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MainPageComponent } from './main-page/main-page.component';\nimport { CategoryPageComponent } from './category-page/category-page.component';\nimport { LoginComponent } from './common/login/login.component';\nimport { MyWatchlistComponent } from './my-watchlist/my-watchlist.component';\nimport { AuthGuardService } from './service/auth-guard.service';\nimport { InfoPageComponent } from './info-page/info-page.component';\nimport { EntityResolverService } from './service/entity-resolver.service';\nimport { CategoryResolverService } from './service/category-resolver.service';\n\nconst routes: Routes = [\n  { path: '', component: MainPageComponent },\n  { path: 'index', component: MainPageComponent },\n  { path: 'category/:category', component: CategoryPageComponent, resolve: { categoryData: CategoryResolverService}},\n  { path: 'tv/:id', component: InfoPageComponent, resolve: {entity: EntityResolverService}, data: {type: 'tv'}},\n  { path: 'movie/:id', component: InfoPageComponent, resolve: {entity: EntityResolverService}, data: {type: 'movie'}},\n  { path: 'login', component: LoginComponent },\n  { path: 'my', component: MyWatchlistComponent, canActivate: [AuthGuardService] },\n  { path: '**', component: MainPageComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {\n    scrollPositionRestoration: 'enabled'\n  })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit, ViewChild, ChangeDetectorRef, NgZone } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MediaMatcher } from '@angular/cdk/layout';\nimport { ScrollDispatcher } from '@angular/cdk/scrolling';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { Router, NavigationEnd, NavigationStart } from '@angular/router';\nimport { filter, debounce } from 'rxjs/operators';\nimport { SPONSOR_URL, SHORT_TITLE, TITLE, MENU_TREE, CATEGORY_LIST } from './util/constants';\nimport { AuthService } from './service/auth.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit{\n  @ViewChild('sidenav') sidenav: MatSidenav;\n  readonly shortTitle = SHORT_TITLE;\n  readonly title = TITLE;\n  readonly menuTree = MENU_TREE;\n  readonly toolbarMenu = CATEGORY_LIST;\n  isLoading = false;\n  isInMainPage: boolean;\n  isScrolled = false;\n  get userInfo() {\n    return this.authService.getUserInfo();\n  }\n\n  constructor(\n    private router: Router,\n    private snackBar: MatSnackBar,\n    private changeDetectorRef: ChangeDetectorRef,\n    private media: MediaMatcher,\n    private scrollDispatcher: ScrollDispatcher,\n    private zone: NgZone,\n    private authService: AuthService,\n    ) {\n    this.mobileQuery = this.media.matchMedia('(max-width: 600px)');\n    this._mobileQueryListener = () => this.changeDetectorRef.detectChanges();\n    this.mobileQuery.addListener(this._mobileQueryListener);\n    this.scrollDispatcher.scrolled(100).subscribe( () =>\n      this.isInMainPage && this.zone.run(() => this.isScrolled = document.scrollingElement.scrollTop > 0));\n  }\n\n  ngOnInit() {\n    // for Github Page's routing hack with 404.html\n    let routePath = sessionStorage.getItem('routePath');\n    if( routePath ) {\n      sessionStorage.removeItem('routePath');\n      this.router.navigate([routePath]);\n    }\n\n    // gdpr cookie policy\n    if( document.cookie.search(/accept-cookie/i) === -1 ) {\n      let snackBarRef = this.snackBar.open('本網站仍在測試中。本網站使用cookies以提昇您的使用體驗及統計。繼續使用本網站表示您同意我們使用cookies。',\n      '同意', { horizontalPosition: 'right'});\n      snackBarRef.afterDismissed().subscribe(() => {\n        document.cookie = 'accept-cookie=true;';\n      });\n    }\n\n    // when route changes\n    this.router.events.pipe(filter( e => e instanceof NavigationStart ))\n    .subscribe((e: NavigationStart) => {\n      this.isLoading = true;\n    });\n    this.router.events.pipe(filter( e => e instanceof NavigationEnd ))\n    .subscribe( (e: NavigationEnd) => {\n      this.isLoading = false;\n\n      // judge if it's in main page\n      this.isInMainPage = e.url === '/' || e.url === '/index';\n    });\n  }\n  mobileQuery: MediaQueryList;\n  private _mobileQueryListener: () => void;\n\n  ngOnDestroy(): void {\n    this.mobileQuery.removeListener(this._mobileQueryListener);\n  }\n\n  closeSidenav(): void {\n    this.sidenav.close();\n  }\n\n  donate() {\n    window.open(SPONSOR_URL);\n  }\n}\n","<mat-progress-bar *ngIf=\"isLoading\" mode=\"indeterminate\"></mat-progress-bar>\n<mat-toolbar color=\"primary\" [class.elevated]=\"!isInMainPage || isScrolled \">\n  <button mat-icon-button (click)=\"sidenav.toggle()\" class=\"hamburger\" aria-label=\"menu\"><mat-icon>menu</mat-icon></button>\n  <span class=\"title\" routerLink=\"/\">楓林晚 </span> &nbsp;\n\n  <button mat-button class=\"link\" *ngFor=\"let item of toolbarMenu\" [routerLink]=\"item.link\" routerLinkActive=\"active-link\">\n    {{item.name}}\n  </button>\n  <span class=\"fill-remaining-space\"></span>\n\n  <button mat-icon-button matTooltip=\"請我喝杯咖啡\" aria-label=\"Donate\" (click)=\"donate()\">\n    <mat-icon>insert_emoticon</mat-icon>\n  </button>\n  <button mat-button *ngIf=\"!userInfo\" routerLink=\"/login\">登入</button>\n  <mat-menu #appMenu=\"matMenu\">\n    <button mat-menu-item routerLink=\"/my\" >我的片單</button>\n    <button mat-menu-item routerLink=\"/login\" >登出</button>\n  </mat-menu>\n  <button mat-icon-button *ngIf=\"userInfo\" class=\"avatar\" [matMenuTriggerFor]=\"appMenu\">\n    <img [src]=\"userInfo.photoURL\" alt=\"avatar\">\n  </button>\n</mat-toolbar>\n\n<mat-sidenav-container class=\"sidenav-container\">\n  <mat-sidenav #sidenav [mode]=\"mobileQuery.matches ? 'over' : 'side'\"\n    [fixedInViewport]=\"mobileQuery.matches\" fixedTopGap=\"56\">\n    <mat-nav-list>\n      <a mat-list-item routerLink=\".\" *ngFor=\"let nav of menuTree\" [routerLink]=\"nav.link\"\n        (click)=\"closeSidenav()\" routerLinkActive=\"active-link\">\n        {{nav.name}}\n      </a>\n    </mat-nav-list>\n  </mat-sidenav>\n\n  <mat-sidenav-content>\n    <router-outlet></router-outlet>\n    <app-footer></app-footer>\n  </mat-sidenav-content>\n</mat-sidenav-container>\n","import { BrowserModule, HammerModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HAMMER_GESTURE_CONFIG, HammerGestureConfig } from '@angular/platform-browser';\n\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { AngularFireAuthModule } from '@angular/fire/auth';\nimport { AngularFireAnalyticsModule } from '@angular/fire/analytics'\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatListModule } from '@angular/material/list';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MainPageComponent } from './main-page/main-page.component';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\nimport { CarouselComponent } from './common/carousel/carousel.component';\nimport { CategoryPageComponent } from './category-page/category-page.component';\nimport { CarouselItemDirective, CarouselItemElement } from './common/carousel/carousel-item.directive';\nimport { FooterComponent } from './common/footer/footer.component';\nimport { LoginComponent } from './common/login/login.component';\nimport { MyWatchlistComponent } from './my-watchlist/my-watchlist.component';\nimport { InfoPageComponent } from './info-page/info-page.component';\nimport { InfoBannerComponent } from './common/info-banner/info-banner.component';\nimport { InfoCardComponent } from './common/info-card/info-card.component';\n\nexport class MyHammerConfig extends HammerGestureConfig {\n  overrides = <any> {\n      pinch: { enable: false },\n      rotate: { enable: false },\n      swipe: { enable: false },\n      // only allow horizontal pan\n      pan: { direction: 6 }\n  }\n}\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MainPageComponent,\n    CarouselComponent,\n    CarouselItemDirective,\n    CarouselItemElement,\n    CategoryPageComponent,\n    FooterComponent,\n    LoginComponent,\n    MyWatchlistComponent,\n    InfoPageComponent,\n    InfoBannerComponent,\n    InfoCardComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HammerModule,\n    AppRoutingModule,\n    CommonModule,\n    FormsModule,\n    HttpClientModule,\n    MatButtonModule,\n    MatMenuModule,\n    MatSidenavModule,\n    MatToolbarModule,\n    MatListModule,\n    MatCardModule,\n    MatIconModule,\n    MatDialogModule,\n    MatTooltipModule,\n    MatSnackBarModule,\n    MatRippleModule,\n    MatProgressBarModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFireAnalyticsModule,\n    AngularFirestoreModule,\n    AngularFireAuthModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\n  ],\n  providers: [\n    { provide: HAMMER_GESTURE_CONFIG, useClass: MyHammerConfig}\n  ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n\n","import { Component, OnInit, ElementRef } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CategoryService } from '../service/category.service';\nimport { switchMap, startWith, map } from 'rxjs/operators';\nimport { Observable, of, iif } from 'rxjs';\nimport { CATEGORY_MAP } from '../util/constants';\nimport { Title } from '@angular/platform-browser';\nimport { AuthService } from '../service/auth.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-category-page',\n  templateUrl: './category-page.component.html',\n  styleUrls: ['./category-page.component.scss']\n})\nexport class CategoryPageComponent implements OnInit {\n  readonly CATEGORY_MAP = CATEGORY_MAP;\n  items$: Observable<any[]>;\n  entityType$: Observable<string>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private categoryService: CategoryService,\n    private elementRef: ElementRef,\n    private titleService: Title,\n  ) { }\n\n  ngOnInit(): void {\n    // if the landing page is this page, the resolver returns `{isNeedLoad: true}`,\n    // need to call `this.categoryService.getCategory()` here.\n    // otherwise, just use the data provided by the resolver\n    this.items$ = this.route.data.pipe(switchMap( data　=>\n      iif( () => data.categoryData.isNeedLoad === true,\n        this.route.paramMap.pipe(switchMap(params => this.categoryService.getCategory(params.get('category')))),\n        of(data.categoryData)\n    )), startWith([{isLoading: true}]));\n\n    // Identify if it's movie or tv (for link to the detail page)\n    this.entityType$ = this.route.paramMap.pipe(map( params => params.get('category') === 'movies' ? 'movie':'tv' ));\n\n    // when `history.back()`, need space to restore scroll to the previous position\n    // defined `min-height:6000px` in css; after `OnInit`, restore to 90vh\n    this.elementRef.nativeElement.style.minHeight = '90vh';\n\n    // change title\n    this.route.paramMap.subscribe( params => {\n      const category = this.CATEGORY_MAP[params.get('category')];\n      this.titleService.setTitle( category.name );\n    });\n  }\n\n}\n","<header>\n    <app-carousel>\n        <ng-container *ngFor=\"let item of items$ | async | slice:0:7 \">\n            <ng-container *carouselItem>\n                <app-info-banner [entity]=\"item\" [isLoading]=\"item.isLoading\" [entityType]=\"entityType$ | async\"></app-info-banner>\n            </ng-container>\n        </ng-container>\n    </app-carousel>\n</header>\n<article>\n    <h2>熱門選擇</h2>\n    <div class=\"cardholder\">\n        <app-info-card *ngFor=\"let item of items$ | async\" [entity]=\"item\" [entityType]=\"entityType$ | async\"></app-info-card>\n    </div>\n</article>\n","import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n  selector: '[carouselItem]'\n})\nexport class CarouselItemDirective {\n\n  constructor( public tpl : TemplateRef<any> ) {\n  }\n\n}\n\n@Directive({\n  selector: '.carousel-item'\n})\nexport class CarouselItemElement {\n}\n","import { Component, OnInit, AfterViewInit, ContentChildren, QueryList, ViewChildren, ElementRef, ViewChild, Input, HostListener } from '@angular/core';\nimport { CarouselItemDirective, CarouselItemElement } from './carousel-item.directive';\nimport { AnimationPlayer, AnimationFactory, animate, style, AnimationBuilder } from '@angular/animations';\nimport 'hammerjs';\n\n@Component({\n  selector: 'app-carousel',\n  templateUrl: './carousel.component.html',\n  styleUrls: ['./carousel.component.scss']\n})\nexport class CarouselComponent implements AfterViewInit {\n\n  @ContentChildren(CarouselItemDirective) items: QueryList<CarouselItemDirective>;\n  @ViewChildren(CarouselItemElement, { read: ElementRef }) private itemsElements: QueryList<ElementRef>;\n  @ViewChild('carousel') private carousel: ElementRef;\n  @Input() timing = '100ms ease-in';\n  @Input() showControls = true;\n  private player: AnimationPlayer;\n  private itemWidth: number;\n  currentSlide = 0;\n  carouselWrapperStyle = {};\n\n  private buildAnimation(offset: number, timing?:string) {\n    return this.builder.build([\n      animate(timing || this.timing, style({ transform: `translateX(${-offset}px)` }))\n    ]);\n  }\n\n  private playPageAnimation(timing?:string) {\n    const offset = this.currentSlide * this.itemWidth;\n    const myAnimation: AnimationFactory = this.buildAnimation(offset, timing);\n    this.player = myAnimation.create(this.carousel.nativeElement);\n    this.player.play();\n  }\n\n  next(infiniteNext: boolean = false ) {\n    if (this.currentSlide + 1 < this.items.length || infiniteNext === true) {\n      this.currentSlide = (this.currentSlide + 1) % this.items.length;\n    }\n    this.playPageAnimation();\n  }\n\n  prev(infinitePrev: boolean = false ) {\n    if (this.currentSlide > 0 || infinitePrev === true ) {\n      this.currentSlide = ((this.currentSlide - 1) + this.items.length) % this.items.length;\n    }\n    this.playPageAnimation();\n  }\n\n  goToPage(page: number) {\n    this.currentSlide = page;\n    this.playPageAnimation();\n  }\n\n  pan(e: any){\n    if( e.isFinal ) return;\n    const offset = (this.currentSlide * this.itemWidth) - e.deltaX;\n    const myAnimation: AnimationFactory = this.buildAnimation(offset, '0ms linear');\n    this.player = myAnimation.create(this.carousel.nativeElement);\n    this.player.play();\n  }\n\n  panend(e: any){\n    if (e.velocityX < -0.3 && e.distance > 10) {\n      this.next();\n    } else if (e.velocityX > 0.3 && e.distance > 10) {\n      this.prev();\n    } else {\n      this.playPageAnimation();\n    }\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event: Event) {\n    this.ngAfterViewInit();\n    this.playPageAnimation('0ms linear');\n  }\n\n  constructor(private builder: AnimationBuilder) {\n  }\n\n  ngAfterViewInit() {\n      this.itemWidth = this.itemsElements.first.nativeElement.getBoundingClientRect().width;\n      this.carouselWrapperStyle = { width: `${this.itemWidth}px` };\n  }\n\n}\n","<section class=\"carousel-wrapper\" [ngStyle]=\"carouselWrapperStyle\">\n    <ul class=\"carousel-inner\" #carousel>\n        <li *ngFor=\"let item of items\" class=\"carousel-item\" (pan)=\"pan($event)\" (panend)=\"panend($event)\">\n            <ng-container [ngTemplateOutlet]=\"item.tpl\"></ng-container>\n        </li>\n    </ul>\n</section>\n<button mat-button *ngIf=\"showControls\" class=\"prev-btn\" aria-label=\"previous\" (click)=\"prev(true)\">\n    <mat-icon>keyboard_arrow_left</mat-icon>\n</button>\n<button mat-button *ngIf=\"showControls\" class=\"next-btn\" aria-label=\"next\" (click)=\"next(true)\">\n    <mat-icon>keyboard_arrow_right</mat-icon>\n</button>\n<div class=\"paginator\">\n    <mat-icon aria-label=\"slide \" *ngFor=\"let item of items; let i = index\"\n        [class.active]=\"currentSlide === i\" (click)=\"goToPage(i)\">lens</mat-icon>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { REPO_URL, SPONSOR_URL, CATEGORY_LIST } from '../../util/constants';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n  readonly REPO_URL = REPO_URL;\n  readonly SPONSOR_URL = SPONSOR_URL;\n  readonly MENU_TREE = CATEGORY_LIST;\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  categoryClick(e: Event) {\n    e.preventDefault();\n  }\n}\n","<footer>\n    <div class=\"grid-fluid\">\n        <div class=\"footer-block two-column\">\n            <h3>分類</h3>\n            <ul>\n                <li *ngFor=\"let i of MENU_TREE\">\n                    <a [href]=\"i.link\" (click)=\"categoryClick($event)\" [routerLink]=\"i.link\">{{i.name}}</a>\n                </li>\n            </ul>\n        </div>\n        <div class=\"footer-block\">\n            <h3>資料來源</h3>\n            <ul>\n                <li><a rel=\"noreferrer\" href=\"//themoviedb.org\" target=\"_blank\">The Movie Database</a></li>\n                <li><a rel=\"noreferrer\" href=\"//www.ptt.cc/bbs/\" target=\"_blank\">批踢踢實業坊</a></li>\n                <li><a rel=\"noreferrer\" href=\"//www.imdb.com/\" target=\"_blank\">IMDb</a></li>\n                <li><a rel=\"noreferrer\" href=\"//www.rottentomatoes.com/\" target=\"_blank\">Rotten Tomatoes</a></li>\n            </ul>\n        </div>\n        <div class=\"footer-block\">\n            <h3>關於本站</h3>\n            <ul>\n                <li><a rel=\"noreferrer\" href=\"{{REPO_URL}}/blob/master/doc/FAQ.md\" target=\"_blank\">常見問題 (FAQ)</a></li>\n                <li><a rel=\"noreferrer\" href=\"{{REPO_URL}}/blob/master/doc/COPYRIGHT_DISCLAIMER.md\" target=\"_blank\">版權聲明</a></li>\n                <li><a rel=\"noreferrer\" href=\"{{REPO_URL}}/blob/master/doc/TERMS_AND_CONDITIONS.md\" target=\"_blank\">使用條款</a></li>\n                <li><a rel=\"noreferrer\" href=\"{{REPO_URL}}/blob/master/doc/PRIVACY_POLICY.md\" target=\"_blank\">隱私權政策</a></li>\n            </ul>\n        </div>\n        <div class=\"footer-block\">\n            <h3>貢獻</h3>\n            <ul>\n                <li><a rel=\"noreferrer\" href=\"{{REPO_URL}}/issues\" target=\"_blank\">問題回報</a></li>\n                <li><a rel=\"noreferrer\" href=\"{{REPO_URL}}\" target=\"_blank\">協助開發</a></li>\n                <li><a rel=\"noreferrer\" href=\"//ocf.tw/about/\" target=\"_blank\">支持開源</a></li>\n                <li><a rel=\"noreferrer\" href=\"{{SPONSOR_URL}}\" target=\"_blank\">贊助我</a></li>\n            </ul>\n        </div>\n    </div>\n    <p>Copyright 8maple.us &copy; 2020. Code licensed under MIT License.</p>\n</footer>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-info-banner',\n  templateUrl: './info-banner.component.html',\n  styleUrls: ['./info-banner.component.scss']\n})\nexport class InfoBannerComponent implements OnInit {\n  @Input() entity: any;\n  @Input() isLoading: boolean;\n  @Input() isDetailMode: boolean = false;\n  @Input() entityType: string = 'tv';\n\n  constructor(\n    private snackBar: MatSnackBar,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  watch() {\n    window.open('https://www.netflix.com/title/81243996');\n  }\n\n  addToWatchList() {\n    this.snackBar.open('Not yet implemented','OK', {\n      duration: 1000\n    });\n  }\n}\n","<div class=\"item\" *ngIf=\"isLoading\">\n    <div class=\"ph-item\">\n        <div class=\"ph-picture\"></div>\n        <div class=\"ph-info ph-col-12\">\n            <div class=\"ph-row\">\n                <div class=\"ph-col-12 empty\"></div>\n                <div class=\"ph-col-4 big\"></div>\n                <div class=\"ph-col-12 empty\"></div>\n                <div class=\"ph-col-12\"></div>\n                <div class=\"ph-col-12\"></div>\n                <div class=\"ph-col-12\"></div>\n                <div class=\"ph-col-12\"></div>\n                <div class=\"ph-col-12\"></div>\n                <div class=\"ph-col-10\"></div>\n                <div class=\"ph-col-2 empty\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"item\" [class.limit-height]=\"isDetailMode\" *ngIf=\"!isLoading\"\n    [style.backgroundImage]=\"entity.backdrop_path&&'url(https://image.tmdb.org/t/p/w780'+entity.backdrop_path+')'\">\n    <div class=\"item-content\" [class.reverse-order]=\"isDetailMode\">\n        <div class=\"poster\" [class.limit-size]=\"isDetailMode\">\n            <img *ngIf=\"entity.poster_path\" [src]=\"'https://image.tmdb.org/t/p/w342'+entity.poster_path\" alt=\"poster\" draggable=\"false\">\n            <div *ngIf=\"!entity.poster_path\" class=\"poster-loading\"></div>\n        </div>\n        <div class=\"info\" [class.no-padding]=\"isDetailMode\">\n            <h1 class=\"title\" [class.big-title]=\"isDetailMode\">{{entity.title || entity.name}}</h1>\n            <div class=\"facts\">\n                <span *ngIf=\"(entity.original_title || entity.original_name) !== (entity.title || entity.name)\">\n                    {{entity.original_title || entity.original_name}}\n                </span>\n                <span>{{(entity.first_air_date || entity.release_date) | slice:0:4 }}</span>\n                <span>{{entity.genre_ids.join('/')}}</span>\n            </div>\n            <div class=\"overview\" *ngIf=\"!isDetailMode\">\n                <p>{{entity.overview}}</p>\n            </div>\n            <div class=\"spacer\"></div>\n            <div class=\"actions\">\n                <button *ngIf=\"!isDetailMode\" mat-flat-button aria-label=\"Watch\" color=\"accent\" (click)=\"watch()\"><mat-icon>play_arrow</mat-icon> 線上看</button>\n                <button mat-stroked-button aria-label=\"Add to watch list\" (click)=\"addToWatchList()\"><mat-icon>add</mat-icon> 加到片單</button>\n                <button *ngIf=\"!isDetailMode\" mat-stroked-button aria-label=\"Details\" routerLink=\"/{{entityType}}/{{entity.id}}\" [state]=\"entity\">\n                    <mat-icon>list</mat-icon> 更多資訊\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { AuthService } from 'src/app/service/auth.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-info-card',\n  templateUrl: './info-card.component.html',\n  styleUrls: ['./info-card.component.scss']\n})\nexport class InfoCardComponent implements OnInit {\n  @Input('entity') item: any;\n  @Input() entityType: string;\n\n  constructor(\n    private authService: AuthService,\n    private snackBar: MatSnackBar,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  watch(id: string, e: Event) {\n    e.stopPropagation();\n    window.open('https://www.netflix.com/title/81243996');\n  }\n\n  addToWatchList(id: string, e: Event) {\n    e.stopPropagation();\n    this.authService.performActionAfterLogin( (id: string) => {\n      this.snackBar.open('Not yet implemented','OK', {\n        duration: 1000\n      });\n    }, this, id);\n  }\n\n  stopRipple(e: Event) {\n    e.stopPropagation();\n  }\n}\n","<mat-card matRipple routerLink=\"/{{entityType}}/{{item.id}}\" [state]=\"item\">\n    <img mat-card-image [src]=\"'https://image.tmdb.org/t/p/w600_and_h900_bestv2'+item.poster_path\" alt=\"poster\" draggable=\"false\">\n    <div class=\"poster-mask\"></div>\n    <button class=\"favorite\" mat-icon-button aria-label=\"Add to list\" matTooltip=\"加到片單\"\n        (mousedown)=\"stopRipple($event)\" (click)=\"addToWatchList(item.id, $event)\">\n        <mat-icon>favorite</mat-icon>\n    </button>\n    <mat-card-header>\n        <mat-card-title>{{item.title || item.name}}</mat-card-title>\n        <mat-card-subtitle\n            *ngIf=\"(item.original_title || item.original_name) !== (item.title || item.name)\">\n            {{item.original_title || item.original_name}}\n        </mat-card-subtitle>\n    </mat-card-header>\n    <mat-card-actions>\n        <button mat-stroked-button (mousedown)=\"stopRipple($event)\" (click)=\"watch(item.id, $event)\">線上看</button>\n    </mat-card-actions>\n</mat-card>","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/service/auth.service';\nimport { auth } from 'firebase/app';\nimport { Router } from '@angular/router';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  readonly LOGIN_METHOD = LOGIN_METHOD;\n  isLoggingIn: boolean = false;\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private snackBar: MatSnackBar,\n  ) { }\n\n  ngOnInit(): void {\n    this.authService.signOut();\n  }\n\n  login(provider: string) {\n    this.isLoggingIn = true;\n    this.authService.signIn(provider).subscribe(\n      userInfo => {\n        history.back();\n      },\n      err => {\n        this.isLoggingIn = false;\n        this.snackBar.open( '登入失敗: ' + err , 'OK')\n      }\n    );\n  }\n\n}\nexport const LOGIN_METHOD = [ 'Google', 'Facebook', 'Github' ];\n","<div class=\"container\">\n    <h1>註冊或登入</h1>\n    <button *ngFor=\"let i of LOGIN_METHOD\" (click)=\"login(i)\"\n        [class]=\"i\" mat-button [disabled]=\"isLoggingIn\">\n        使用 {{i}} 登入\n    </button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-info-page',\n  templateUrl: './info-page.component.html',\n  styleUrls: ['./info-page.component.scss']\n})\nexport class InfoPageComponent implements OnInit {\n  entity: any;\n  error: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private titleService: Title,\n  ) { }\n\n  ngOnInit(): void {\n    this.route.data\n    .subscribe( data => {\n      if( data.entity.error ){\n        // error handling\n        this.error = data.entity.error.message;\n      } else {\n        this.entity = data.entity;\n        // set the page title for SEO\n        this.titleService.setTitle( (this.entity.title || this.entity.name));\n      }\n    });\n  }\n\n  watch() {\n    window.open('https://www.netflix.com/title/81243996');\n  }\n\n}\n","<app-info-banner *ngIf=\"entity\" [isDetailMode]=\"true\" [entity]=\"entity\"></app-info-banner>\n<article *ngIf=\"entity\">\n    <h2>簡介</h2>\n    <div class=\"content\">\n        <p *ngIf=\"!entity.overview\">\n            目前沒有簡介。\n            <a href=\"https://www.themoviedb.org/login?language=zh-TW&redirect=tv/{{entity.id}}/edit\" target=\"_blank\">貢獻內容</a>\n        </p>\n        <p>{{entity.overview}}</p>\n    </div>\n\n    <h2>播映平台</h2>\n    <div class=\"content\">\n        <p>目前沒有平台播映本作品</p>\n    </div>\n</article>\n<div *ngIf=\"error\" class=\"error\">\n    <h2>找不到影劇資料</h2>\n    <p>{{error}}</p>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { REPO_URL, SPONSOR_URL, PROVIDER_LIST } from '../util/constants';\n\n@Component({\n  selector: 'app-main-page',\n  templateUrl: './main-page.component.html',\n  styleUrls: ['./main-page.component.scss']\n})\nexport class MainPageComponent implements OnInit {\n  readonly REPO_URL = REPO_URL;\n  readonly SPONSOR_URL = SPONSOR_URL;\n  readonly PROVIDER_LIST = PROVIDER_LIST;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<header>\n    <div class=\"background hero\"></div>\n    <section id=\"intro\">\n        <div class=\"hero-logo\">\n            <img src=\"assets/images/logo.svg\" alt=\"Logo\" width=\"250\" height=\"250\">\n        </div>\n        <div class=\"homepage-container\">\n            <div class=\"hero-headline no-toc\">支持正版，<br>才有更棒的作品。</div>\n            <div class=\"hero-subline\">在這裡找尋您想看的所有影劇合法片源</div>\n            <div class=\"hero-providers\">\n                <img *ngFor=\"let i of PROVIDER_LIST\" src=\"assets/images/providers/{{i.id}}.jpg\"\n                    [alt]=\"i.name\" [matTooltip]=\"i.name\" class=\"provider\">\n                <div class=\"mobile-cover\"></div>\n            </div>\n        </div>\n    </section>\n</header>\n\n<article>\n    <div class=\"home-rows\">\n        <hr>\n        <div class=\"home-row homepage-container\">\n            <div class=\"promo-img-container\">\n                <div>\n                    <img height=\"160\" width=\"240\" src=\"assets/images/promo-online-watch.svg\" alt=\"watch video online easily\">\n                </div>\n            </div>\n            <div class=\"text-container\">\n                <div class=\"text-block\">\n                    <div class=\"text-headline\">看正版不該這麼難</div>\n                    <p class=\"text-body\">\n                        <em>楓林網</em> 最好用的地方是甚麼？只要搜尋劇名「 線上看 」，一點開馬上就可以看劇！可惜他是<del>盜版</del>的。如果正版的串流平台也可以這麼方便，那就太好了。\n                    </p>\n                </div>\n            </div>\n        </div>\n        <hr>\n        <div class=\"home-row homepage-container\">\n            <div class=\"text-container\">\n                <div class=\"text-block\">\n                    <div class=\"text-headline\">看正版不該這麼花錢</div>\n                    <p class=\"text-body\">訂閱一個線上串流平台會員，每月花費僅約 $150 TWD 起跳。「如果我想看的影劇分散在不同平台，豈不要花 $150 * N 來訂閱好幾個平台？」</p>\n                    <p class=\"text-body\">別擔心，我們幫您打造最適合您的串流方案。在「我的片單」功能裡，把想看的影劇加入您的片單，系統幫您評估怎樣訂閱最划算。(coming soon)</p>\n                </div>\n            </div>\n            <div class=\"promo-img-container\">\n                <div>\n                    <img height=\"160\" width=\"240\" src=\"assets/images/promo-piggybank.svg\"  alt=\"save your money\">\n                </div>\n            </div>\n        </div>\n        <hr>\n        <div class=\"home-row homepage-container\">\n            <div class=\"promo-img-container\">\n                <div>\n                    <img height=\"160\" width=\"240\" src=\"assets/images/promo-rating.svg\"  alt=\"video ratings aggregator\">\n                </div>\n            </div>\n            <div class=\"text-container\">\n                <div class=\"text-block\">\n                    <div class=\"text-headline\">最合鄉民的胃口</div>\n                    <p class=\"text-body\">電影好不好看只能參考IMDb？PTT好雷比例才最反映正港台灣鄉民的口味！讓鄉民幫您做分析，以免花了時間看完，評論卻只有「我剛剛到底看了甚麼😱」。</p>\n                </div>\n            </div>\n        </div>\n        <hr>\n        <div class=\"home-row homepage-container\">\n            <div class=\"text-container\">\n                <div class=\"text-block\">\n                    <div class=\"text-headline\">做個堂堂正正的台灣人</div>\n                    <p class=\"text-body\">提升公民素質需要你我的努力，別不小心破壞了台灣最美的風景！讓我們落實使用者付費的觀念，讓最賣座的電影在台灣優先上映，讓創作者們繼續努力為我們做出更好的作品。</p>\n                    <p class=\"text-body\">這個網站是抱著以上精神努力開發，非營利性質且無廣告。然而讓它繼續營運下去需要大量時間及金錢成本。如果您喜歡，且經濟尚有餘裕，歡迎<a rel=\"noreferrer\" [href]=\"SPONSOR_URL\" target=\"_blank\">贊助我</a>。</p>\n                </div>\n            </div>\n            <div class=\"promo-img-container\">\n                <div>\n                    <img height=\"160\" width=\"240\" src=\"assets/images/promo-superhero.svg\"  alt=\"respect the copyright\">\n                </div>\n            </div>\n        </div>\n    </div>\n</article>\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../service/auth.service';\nimport { Router } from '@angular/router';\nimport { WatchlistService } from '../service/watchlist.service';\nimport { Observable } from 'rxjs';\nimport { DocumentData } from '@angular/fire/firestore/angular-fire-firestore';\n\n@Component({\n  selector: 'app-my-watchlist',\n  templateUrl: './my-watchlist.component.html',\n  styleUrls: ['./my-watchlist.component.scss']\n})\nexport class MyWatchlistComponent implements OnInit {\n  watchlist$: Observable<any>;\n\n  constructor(\n    private router: Router,\n    private watchlistService: WatchlistService,\n  ) { }\n\n  ngOnInit(): void {\n    this.watchlist$ = this.watchlistService.getWatchlist();\n  }\n}\n","<div class=\"container\">\n    <h2>我的片單</h2>\n    <p *ngFor=\"let item$ of watchlist$ | async\">\n        {{item$ | async | json}}\n    </p>\n</div>\n","import { Injectable } from '@angular/core';\nimport { AuthService } from './auth.service';\nimport { Router, CanActivate } from '@angular/router';\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuardService implements CanActivate {\n\n  constructor(\n    private router: Router,\n    private authService: AuthService,\n  ) { }\n\n  canActivate() {\n    if ( this.authService.isLoggedIn() ) {\n      return true;\n    }\n    this.router.navigate(['/']);\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { auth } from 'firebase/app';\nimport { from, Observable } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private user: Observable<firebase.User>;\n  private userInfo: firebase.User = null;\n  private actionBeforeLogin: any;\n\n  constructor(\n    private angularFireAuth: AngularFireAuth,\n    private router: Router,\n  ) {\n    this.user = angularFireAuth.authState;\n    this.user.subscribe( user => {\n      if (user) {\n        this.userInfo = user;\n      }\n      else {\n        this.userInfo = null;\n      }\n    });\n  }\n\n  signIn(providerName: string) {\n    let provider = new auth[providerName + 'AuthProvider']();\n    provider.addScope('profile');\n    provider.addScope('email');\n    provider.setCustomParameters({\n      allow_signup: 'false'\n    });\n    let signIn$: Observable<auth.UserCredential>;\n    if( location.hostname === '127.0.0.1' ){\n      signIn$ = from(this.angularFireAuth.signInAnonymously());\n    } else {\n      signIn$ = from(this.angularFireAuth.signInWithPopup(provider));\n    }\n    signIn$.subscribe( result => {\n      // call actionBeforeLogin if there is one\n      if( result.user && this.actionBeforeLogin ) {\n        this.actionBeforeLogin.method.apply(this.actionBeforeLogin.thisarg, this.actionBeforeLogin.args);\n        this.actionBeforeLogin = undefined;\n      }\n    });\n    return signIn$;\n  }\n\n  signOut() {\n    return from(this.angularFireAuth.signOut());\n  }\n\n  isLoggedIn() {\n    if (this.userInfo == null ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  getUserInfo() {\n    return this.userInfo;\n  }\n\n  performActionAfterLogin(method: (...args: any) => any, thisarg: any, ...args: any) {\n    if(this.isLoggedIn()){\n      method.apply(thisarg, args);\n    } else {\n      // temporarily save the action to actionBeforeLogin\n      this.actionBeforeLogin = { method, thisarg, args };\n      this.router.navigateByUrl('/login');\n    }\n  }\n}\n\n","import { Injectable } from '@angular/core';\nimport { Router, Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport { CategoryService } from './category.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CategoryResolverService implements Resolve<any> {\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> {\n    if(this.router.getCurrentNavigation().previousNavigation) {\n      // there was a previous route, load data before routing\n      return this.categoryService.getCategory(route.paramMap.get('category'))\n    } else {\n      // the page is the first landing one, resolve directly to show the loading placeholder\n      return of({isNeedLoad: true});\n    }\n  }\n\n  constructor(\n    private router: Router,\n    private categoryService: CategoryService,\n  ) { }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { GENRE_MAP } from '../util/constants';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CategoryService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  getCategory(category: string):Observable<any> {\n    return this.http.get(`/assets/sample-data/${category}.json`)\n      .pipe(map( (data: any[]) => {\n        data.forEach( i => i.genre_ids = i.genre_ids.map( genre => GENRE_MAP[genre]));\n        return data;\n      }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Router, Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Observable, of } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { GENRE_MAP } from '../util/constants';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EntityResolverService implements Resolve<any> {\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> {\n    const entityInfo = this.router.getCurrentNavigation().extras.state;\n    if(entityInfo) {\n      // use the entity info passed by route state\n      return of(entityInfo);\n    }\n    // fetch the info from db\n    return this.afs.collection<any>(route.routeConfig.data.type)\n              .doc(route.params.id).get()\n              .pipe(map(i => ({\n                ...i.data(),\n                // convert genre name\n                genre_ids: i.data().genre_ids.map( genre => GENRE_MAP[genre])\n              })),\n              catchError( error => of({error})));\n  }\n\n  constructor(\n    private router: Router,\n    private afs: AngularFirestore,\n  ) {}\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AuthService } from './auth.service';\nimport { map, flatMap, mergeAll, toArray, mergeMap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WatchlistService {\n\n  constructor(\n    private afs: AngularFirestore,\n    private authService: AuthService,\n  ) { }\n\n  getWatchlist(){\n    return this.afs.collection<any>('watchlist', ref =>\n      ref.where(\"ownerUID\", \"==\", this.authService.getUserInfo().uid ))\n      .get()\n      .pipe(\n        map( i => i.docs[0].data().items ),\n        mergeAll(),\n        map( (i:any) => this.afs.doc(i.path).get().pipe(map(i=> i.data()))),\n        toArray()\n      )\n  }\n}\n","export const REPO_URL = '//github.com/df1/streaming-guide';\nexport const SPONSOR_URL = '//www.paypal.me/ellischang1';\nexport const SHORT_TITLE = '楓林晚';\nexport const TITLE = '楓林晚 - 追劇 電影 線上看';\nexport const CATEGORY_MAP = {\n  movies: { name: '電影', type:'movie' },\n  taiwan: { name: '台劇', type:'tv' },\n  japan:  { name: '日劇', type:'tv' },\n  korea:  { name: '韓劇', type:'tv' },\n  usa:    { name: '美劇', type:'tv' },\n  china:  { name: '陸劇', type:'tv' },\n  anime:  { name: '動畫', type:'tv' },\n};\nexport const CATEGORY_LIST = [...Object.keys(CATEGORY_MAP).map( k =>\n  ({name: CATEGORY_MAP[k].name, link:`/category/${k}`})\n)];\nexport const MENU_TREE = [\n  { name: '首頁', link:'/index', showInToolbar: false },\n  ...CATEGORY_LIST,\n];\nexport const PROVIDER_LIST = [\n  { id: 1, name: 'Netflix' },\n  { id: 2, name: 'LINE TV' },\n  { id: 3, name: '愛奇藝台灣站' },\n  { id: 4, name: 'HBO GO' },\n  { id: 5, name: 'KKTV' },\n  { id: 6, name: 'Apple TV+' },\n  { id: 7, name: 'GagaOOLala' },\n  { id: 8, name: 'iTunes' },\n  { id: 9, name: 'YouTube' },\n  { id: 10, name: 'Google Play電影' },\n  { id: 11, name: 'CATCHPLAY+' },\n  { id: 12, name: 'friDay影音' },\n  { id: 13, name: 'Hami Video' },\n  { id: 14, name: '公視+' },\n  { id: 15, name: 'LiTV立視線上影視' },\n  { id: 16, name: 'myVideo' },\n  { id: 17, name: 'Vidol影音' },\n  { id: 18, name: 'WeTV' },\n  { id: 19, name: '四季線上影視' },\n  { id: 20, name: '酷瞧' }\n];\nexport const GENRE_MAP = {\n  12:    \"冒險\",\n  14:    \"奇幻\",\n  16:    \"動畫\",\n  18:    \"劇情\",\n  27:    \"恐怖\",\n  28:    \"動作\",\n  35:    \"喜劇\",\n  36:    \"歷史\",\n  37:    \"西部\",\n  53:    \"驚悚\",\n  80:    \"犯罪\",\n  99:    \"紀錄\",\n  878:   \"科幻\",\n  9648:  \"懸疑\",\n  10402: \"音樂\",\n  10749: \"愛情\",\n  10751: \"家庭\",\n  10752: \"戰爭\",\n  10759: \"動作冒險\",\n  10762: \"兒童\",\n  10763: \"新聞\",\n  10764: \"真人秀\",\n  10765: \"科幻與奇幻\",\n  10766: \"肥皂劇\",\n  10767: \"脫口秀\",\n  10768: \"戰爭與政治\",\n  10770: \"電視電影\",\n};\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebase: {\n    apiKey: \"AIzaSyATdUyC8X5ZuxMYNbXzYoWSqn4nzEmmERg\",\n    authDomain: \"8maple.us\",\n    databaseURL: \"https://our-velocity-273817.firebaseio.com\",\n    projectId: \"our-velocity-273817\",\n    storageBucket: \"our-velocity-273817.appspot.com\",\n    messagingSenderId: \"345090432204\",\n    appId: \"1:345090432204:web:68d8edb19f9842aa097669\",\n    measurementId: \"G-7SZL48HDHZ\"\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}